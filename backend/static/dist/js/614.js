"use strict";(self["webpackChunkfrontendaa"]=self["webpackChunkfrontendaa"]||[]).push([[614],{3614:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var r=s(821);const c={class:"stock-prices-container"},o=(0,r._)("h1",{class:"title"},"Current Prices",-1),i={class:"stock-data"};function a(t,e,s,a,n,l){const p=(0,r.up)("StockPrice");return(0,r.wg)(),(0,r.iD)("div",c,[o,(0,r._)("div",i,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.latestCryptoPrices,(t=>((0,r.wg)(),(0,r.j4)(p,{key:t,stock:t},null,8,["stock"])))),128))])])}s(7658);var n=s(196);const l={class:"stock-container"},p={class:"box"};function u(t,e,s,c,o,i){return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",p,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.stock,((t,e)=>((0,r.wg)(),(0,r.iD)("div",{class:"",key:t},(0,r.zw)(e)+" - $"+(0,r.zw)(t),1)))),128))])])}var d={name:"StockPrice",props:{stock:Object}},k=s(3744);const h=(0,k.Z)(d,[["render",u],["__scopeId","data-v-6489a56e"]]);var v=h,g=s(7202),y={name:"StockPrices",data(){return{latestCryptoPrices:[]}},components:{StockPrice:v},mounted(){this.getLatestCryptoPrices(),document.title="Crypto Prices | StockApp",this.price_update_timer=setInterval((()=>{console.log("Set timer to recieve stock data every 5 sec"),this.getLatestCryptoPrices()}),5e3)},methods:{async getLatestCryptoPrices(){if(!this.$store.state.isAuthenticated)return clearInterval(this.timer),void g.Z.push("/");console.log("Updating crypto prices..."),await n.ZP.get("/api/stocks/").then((t=>{200!==t.status&&this.$store.refreshToken(),this.latestCryptoPrices=t.data})).catch((t=>{console.log(t),this.verifyToken()}))}},unmounted(){console.log("niszcze price_update_timer"),clearInterval(this.price_update_timer)}};const P=(0,k.Z)(y,[["render",a]]);var f=P}}]);
//# sourceMappingURL=614.js.map