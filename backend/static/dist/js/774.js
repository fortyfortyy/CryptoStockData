"use strict";(self["webpackChunkfrontendaa"]=self["webpackChunkfrontendaa"]||[]).push([[774],{2774:function(s,e,t){t.r(e),t.d(e,{default:function(){return P}});var r=t(821);const o={class:"register-container"},a=(0,r._)("h1",{class:"title"},"Sign up",-1),i={key:0,class:"notification-err"},n={class:"field"},l=(0,r._)("label",null,"Username",-1),u={class:"control"},d={class:"field"},p=(0,r._)("label",null,"Email",-1),c={class:"control"},h={class:"field"},m=(0,r._)("label",null,"Password",-1),w={class:"control"},g={class:"field"},f=(0,r._)("label",null,"Repeat password",-1),_={class:"control"},v=(0,r._)("div",{class:"field"},[(0,r._)("div",{class:"control"},[(0,r._)("button",{class:"button is-dark"},"Sign up")])],-1);function k(s,e,t,k,y,b){const S=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",o,[a,y.errors.length?((0,r.wg)(),(0,r.iD)("div",i,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(y.errors,(s=>((0,r.wg)(),(0,r.iD)("p",{key:s},(0,r.zw)(s),1)))),128))])):(0,r.kq)("",!0),(0,r._)("form",{class:"register-form",onSubmit:e[4]||(e[4]=(0,r.iM)(((...s)=>b.submitForm&&b.submitForm(...s)),["prevent"]))},[(0,r._)("div",n,[l,(0,r._)("div",u,[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"JhonyBravo",class:"input","onUpdate:modelValue":e[0]||(e[0]=s=>y.username=s)},null,512),[[r.nr,y.username]])])]),(0,r._)("div",d,[p,(0,r._)("div",c,[(0,r.wy)((0,r._)("input",{type:"email",placeholder:"example@gmail.com",class:"input","onUpdate:modelValue":e[1]||(e[1]=s=>y.email=s)},null,512),[[r.nr,y.email]])])]),(0,r._)("div",h,[m,(0,r._)("div",w,[(0,r.wy)((0,r._)("input",{type:"password",placeholder:"********",class:"input","onUpdate:modelValue":e[2]||(e[2]=s=>y.password=s)},null,512),[[r.nr,y.password]])])]),(0,r._)("div",g,[f,(0,r._)("div",_,[(0,r.wy)((0,r._)("input",{type:"password",placeholder:"********",class:"input","onUpdate:modelValue":e[3]||(e[3]=s=>y.password2=s)},null,512),[[r.nr,y.password2]])])]),v,(0,r._)("div",null,[(0,r.Uk)(" Or here to "),(0,r.Wm)(S,{to:"/login"},{default:(0,r.w5)((()=>[(0,r.Uk)("log in")])),_:1})])],32)])}t(7658);var y=t(196),b=t(7202),S={name:"SignUp",data(){return{email:"",password:"",password2:"",username:"",errors:[]}},beforeCreate(){this.checkIfAuthenticated()},mounted(){document.title="Register | StockApp"},methods:{submitForm(){if(this.errors=[],""===this.email&&this.errors.push("The email is missing"),""===this.username&&this.errors.push("The username is missing"),""===this.password&&this.errors.push("The password is too short"),this.password!==this.password2&&this.errors.push("The passwords doesn't match"),!this.errors.length){const s={username:this.username,email:this.email,password:this.password,password2:this.password2};y.ZP.defaults.headers.common.Authorization="",y.ZP.post("/api/account/register/",s).then((s=>{201===s.status?this.errors.push("Please check your email to activate account."):this.errors.push("Something gone wrong..."),setTimeout((()=>b.Z.push("/login")),5e3)})).catch((s=>{if(s.response){for(const e in s.response.data)this.errors.push(`${e}: ${s.response.data[e]}`);console.log(JSON.stringify(s.response.data))}else s.message&&(this.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(s)))}))}},checkIfAuthenticated(){this.$store.state.isAuthenticated&&b.Z.push("/stocks")}}},U=t(3744);const A=(0,U.Z)(S,[["render",k]]);var P=A}}]);
//# sourceMappingURL=774.js.map