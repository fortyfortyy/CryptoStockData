{"version":3,"file":"js/36.js","mappings":"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","sources":["webpack://frontendaa/./src/views/LoginView.vue","webpack://frontendaa/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <h1 class=\"title\">Log in</h1>\n\n    <form id=\"loginPage\" class=\"login-form\" @submit.prevent=\"submitForm\">\n      <div class=\"notification-err\" v-if=\"errors.length\">\n        <p> Couldn't log in. Please try again.</p>\n      </div>\n      <div class=\"field\">\n        <label>Email</label>\n        <div class=\"control\">\n          <input type=\"email\" placeholder=\"example@gmail.com\" class=\"input\" v-model=\"email\">\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label>Password</label>\n        <div class=\"control\">\n          <input type=\"password\" placeholder=\"********\" class=\"input\" v-model=\"password\">\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <div class=\"control\">\n          <button class=\"button\">Log in</button>\n        </div>\n      </div>\n\n      <div>\n        <router-link to=\"/sign-up\">click here</router-link>\n        to sign up!\n      </div>\n      <div>\n        Or here to\n        <router-link to=\"/password/reset\">reset password</router-link>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport router from \"@/router\";\n\nexport default {\n  name: 'LogIn',\n  data() {\n    return {\n      email: '',\n      password: '',\n      errors: []\n    }\n  },\n  beforeCreate() {\n    this.checkIfAuthenticated()\n  },\n  mounted() {\n    document.title = 'Log In | StockApp'\n  },\n  methods: {\n    async submitForm() {\n      if (this.email === '') {\n        this.errors.push('Email is missing')\n      }\n      axios.defaults.headers.common[\"Authorization\"] = \"\"\n      localStorage.removeItem(\"access\")\n      localStorage.removeItem(\"refresh\")\n      const formData = {\n        email: this.email,\n        password: this.password,\n      }\n      await axios\n          .post(\"/api/account/token/\", formData)\n          .then(response => {\n            const access = response.data.access\n            const refresh = response.data.refresh\n            this.$store.commit('setToken', access, refresh)\n\n            axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + access\n            localStorage.setItem(\"access\", access)\n            localStorage.setItem(\"refresh\", refresh)\n            router.push('/stocks')\n          })\n          .catch(error => {\n            if (error.response) {\n              for (const property in error.response.data) {\n                this.errors.push(`${error.response.data[property]}`)\n              }\n            } else {\n              this.errors.push('Something went wrong. Please try again')\n\n              console.log(JSON.stringify(error))\n            }\n          })\n    },\n    checkIfAuthenticated() {\n      if (this.$store.state.isAuthenticated) {\n        router.push('/stocks')\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.login-container {\n  display: grid;\n  grid-gap: 2rem;\n  justify-items: center;\n  @media (min-width: 1024px) {\n    font-size: 25px !important;\n  }\n\n  .title {\n    color: #ffffff;\n  }\n}\n\n.login-container .login-form {\n  display: grid;\n  grid-gap: 10px;\n  justify-items: center;\n  min-height: 30vh;\n  min-width: 80%;\n  @media (min-width: 1024px) {\n    grid-gap: 2rem;\n  }\n}\n\n.login-container .control input {\n  padding: 5px;\n  border-radius: 5px;\n  @media (min-width: 1024px) {\n    padding: 10px 40px;\n    font-size: 20px;\n  }\n}\n\n.login-container .notification-err {\n  color: mediumvioletred;\n}\n\n.button {\n  cursor: pointer;\n  margin: 10px 0 0;\n  font-size: 14px !important;\n  height: 40px;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, .5);\n  align-items: center;\n  border: none;\n  border-radius: 4px;\n  color: #ffffff;\n  display: inline-flex;\n  flex-direction: row;\n  justify-content: center;\n  padding: 0 40px;\n  position: relative;\n  transition: background-color .2s, padding .4s, box-shadow .2s, border .2s;\n  background-color: royalblue;\n  @media (min-width: 1024px) {\n    font-size: 25px !important;\n    padding: 15px 60px;\n    min-height: 50px;\n  }\n}\n\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=054f1145\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=054f1145&lang=scss\"\n\nimport exportComponent from \"/Users/daniel/PycharmProjects/StockApp/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_4","_createElementBlock","_hoisted_1","_hoisted_2","id","onSubmit","$options","$data","length","_hoisted_3","_hoisted_6","_hoisted_7","_hoisted_8","type","placeholder","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_createVNode","_component_router_link","to","name","data","email","password","errors","beforeCreate","this","checkIfAuthenticated","mounted","document","title","methods","async","push","axios","localStorage","removeItem","formData","then","response","access","refresh","$store","commit","setItem","router","catch","error","property","console","log","JSON","stringify","state","isAuthenticated","__exports__","render"],"sourceRoot":""}