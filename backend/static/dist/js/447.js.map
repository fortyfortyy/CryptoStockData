{"version":3,"file":"js/447.js","mappings":"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","sources":["webpack://frontendaa/./src/views/PasswordSetView.vue","webpack://frontendaa/./src/views/PasswordSetView.vue?6337"],"sourcesContent":["<template>\n  <div class=\"password-set-container\">\n    <h1 class=\"title\">Set new password</h1>\n\n    <div class=\"notification-success\" v-if=\"success.length\">\n      <p v-for=\"sucess in success\" v-bind:key=\"sucess\">{{ sucess }} </p>\n      <router-link to=\"/login\" class=\"link-log-in\"><strong>Click here to log in</strong></router-link>\n    </div>\n\n    <form id=\"passwordSet\" class=\"password-set-form\" @submit.prevent=\"submitForm\">\n      <div class=\"notification-err\" v-if=\"errors.length\">\n        <p> Couldn't set new password.</p>\n      </div>\n      <div class=\"field\">\n        <label>First Password</label>\n        <div class=\"control\">\n          <input type=\"password\" placeholder=\"********\" class=\"input\" v-model=\"password\">\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label>Repeat Password</label>\n        <div class=\"control\">\n          <input type=\"password\" placeholder=\"********\" class=\"input\" v-model=\"password2\">\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <div class=\"control\">\n          <button class=\"button\">Submit</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport router from \"@/router\";\n\nexport default {\n  name: 'PasswordSet',\n  data() {\n    return {\n      uidb: '',\n      token: '',\n      password: '',\n      password2: '',\n      errors: [],\n      success: [],\n    }\n  },\n  mounted() {\n    this.checkIfAuthenticated()\n    document.title = 'Set new password | StockApp'\n  },\n  methods: {\n    async submitForm() {\n      if (this.password === '' || this.password2 === '') {\n        this.errors.push('Password field is missing')\n      }\n      if (this.password !== this.password2) {\n        this.errors.push('Passwords are not the same')\n      }\n      if (this.password.length < 9 || this.password2.length < 9) {\n        this.errors.push('Password has to have more than 8 characters')\n      }\n\n      const formData = {\n        password: this.password,\n        password2: this.password2,\n      }\n\n      this.extractTokensFromUrl()\n      axios.defaults.headers.common[\"Authorization\"] = \"\"\n\n      await axios\n          .put(`/api/account/password/set/${this.uidb}/${this.token}/`, formData)\n          .then(response => {\n            if (response.status === 200) {\n              this.success.push(`You have successfully set the new password`)\n              router.push('/login')\n            }\n          })\n          .catch(error => {\n            if (error.response) {\n              for (const property in error.response.data) {\n                this.errors.push(`${error.response.data[property]}`)\n              }\n            } else {\n              this.errors.push('Something went wrong. Please try again')\n\n              console.log(JSON.stringify(error))\n            }\n          })\n    },\n    extractTokensFromUrl() {\n      const currentURL = window.location.pathname.split('/')\n      console.log(currentURL)\n      this.uidb = currentURL[3]\n      this.token = currentURL[4]\n    },\n    checkIfAuthenticated() {\n      if (this.$store.state.isAuthenticated) {\n        router.push('/stocks')\n      }\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.password-set-container {\n  display: grid;\n  grid-gap: 2rem;\n  justify-items: center;\n  @media (min-width: 1024px) {\n    font-size: 25px !important;\n  }\n\n  .title {\n    color: #ffffff;\n  }\n}\n\n.password-set-container .password-set-form {\n  display: grid;\n  grid-gap: 10px;\n  justify-items: center;\n  min-height: 30vh;\n  min-width: 80%;\n  @media (min-width: 1024px) {\n    grid-gap: 2rem;\n  }\n}\n\n.password-set-container .control input {\n  padding: 5px;\n  border-radius: 5px;\n  @media (min-width: 1024px) {\n    padding: 10px 40px;\n    font-size: 20px;\n  }\n}\n\n.password-set-container .notification-err {\n  color: mediumvioletred;\n}\n\n.password-set-container .notification-success {\n  color: darkgreen;\n  text-align: center;\n}\n\n.password-set-container .button {\n  cursor: pointer;\n  margin: 10px 0 0;\n  font-size: 14px !important;\n  height: 40px;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, .5);\n  align-items: center;\n  border: none;\n  border-radius: 4px;\n  color: #ffffff;\n  display: inline-flex;\n  flex-direction: row;\n  justify-content: center;\n  padding: 0 40px;\n  position: relative;\n  transition: background-color .2s, padding .4s, box-shadow .2s, border .2s;\n  background-color: royalblue;\n  @media (min-width: 1024px) {\n    font-size: 25px !important;\n    padding: 15px 60px;\n    min-height: 50px;\n  }\n}\n\n</style>","import { render } from \"./PasswordSetView.vue?vue&type=template&id=29e24f0b\"\nimport script from \"./PasswordSetView.vue?vue&type=script&lang=js\"\nexport * from \"./PasswordSetView.vue?vue&type=script&lang=js\"\n\nimport \"./PasswordSetView.vue?vue&type=style&index=0&id=29e24f0b&lang=scss\"\n\nimport exportComponent from \"/Users/daniel/PycharmProjects/StockApp/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","$data","length","_hoisted_3","_Fragment","sucess","key","_createVNode","_component_router_link","to","_hoisted_4","id","onSubmit","$options","_hoisted_5","_hoisted_8","_hoisted_9","_hoisted_10","type","placeholder","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","name","data","uidb","token","password","password2","errors","success","mounted","this","checkIfAuthenticated","document","title","methods","async","push","formData","extractTokensFromUrl","axios","then","response","status","router","catch","error","property","console","log","JSON","stringify","currentURL","window","location","pathname","split","$store","state","isAuthenticated","__exports__","render"],"sourceRoot":""}